<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <script>
      var currentTrack = 0;
    </script>
</head>
<body>
  <canvas id="canvasRain" width="1600" height="1200"></canvas>

    <div class="card-track">
        <div class="card-wrapper">
          <div class="card">
            <div class="card-image">
              <img src="./img/isaacCompany_logo.png" id="logo"/>
            </div>
            <div class="card-gradient"></div>
            <div class="card-letters"></div>
          </div>
        </div>
      </div>
      <div class="title">
        <h1>The Isaac Company</h1>
      </div>

<div class="main-page" id="page">
  <header class="navbar">
    <div class="logo">The Isaac Company</div>
    <nav class="nav-links">
        <a href="#">Home</a>
        <a href="#welcome">About</a>
    </nav>
  </header>
  <div class="content">

    <div class="container">

      <iframe src="./header.html" width="100%" height="350vh" style="border-style: none;" scrolling="no" id="welcome" style="pointer-events: none;"></iframe><hr>



    <div class="playlist">
      <div class="header" style="text-align: center;">
        <h1 class="animate-character"><b>â™«</b> <small>Music!</small> <b>â™«</b></h1><br>
      </div>
      <div class="track">
          <div class="track-name"><b>Quantum</b> - Isaac Kroeker</div>
          <audio id="audio1" controls hidden>
              <source src="Quantum.mp3" type="audio/mpeg">
          </audio>
          <button class="play-button" id="play-pause">Play</button>
          <input type="range" id="progress1" min="0" max="100" value="0" step="0.01">
      </div>
      <div class="track">
          <div class="track-name"><b>Entanglement</b> - I<span style="color: rgb(255, 0, 0);" onclick="toggleRain()">s</span>aac Kroeker</div>
          <audio id="audio2" controls hidden>
              <source src="Entanglement.mp3" type="audio/mpeg">
          </audio>
          <button class="play-button" id="play-pause">Play</button>
          <input type="range" id="progress2" min="0" max="100" value="0" step="0.01">
      </div>
      <div class="track">
        <div class="track-name"><b>Particles</b> - Isaac Kroeker</div>
        <audio id="audio3" controls hidden>
            <source src="Particles.mp3" type="audio/mpeg">
        </audio>
        <button class="play-button" id="play-pause">Play</button>
        <input type="range" id="progress2" min="0" max="100" value="0" step="0.01">
      </div>
      <br>
      <p class="desc">All the music here was created using GarageBand, and some with BandLab. I'm not releasing music on a set schedule, so don't expect frequent releases.</p>
    </div>
    <br>

    <div class="playlist">
      <div class="header" style="text-align: center;">
        <h1 class="animate-character"><b>ðŸŽ®</b> <small>Games!</small> <b>ðŸŽ®</b></h1><br>
      </div>
      <hr><h3 style="text-align: center;">School Projects</h3><hr><br>
      <p class="desc">These games were made for school assignments. Very glitchy, many errors, and just plain confusing because I created them on a deadline. They're still a little fun though, so try them out!</p><br>
      <button class="info" onclick="window.open('./pages/ERPG/index.html', '_blank').focus();"><h2><b>Einstein RPG</b></h2><br><br><p>A small RPG game starring Albert Einstein.</p></button>
      <button class="info" onclick="window.open('./pages/TheNorth/index.html', '_blank').focus();"><h2><b>The North</b></h2><br><br><p>A game created after reading 
        <b>The Horse and his Boy</b>. You are Peter, heading off to the northern parts of Narnia, trying to fight the giants.</p></button><br>
      <div style="height: 50px;"></div>
        <hr><h3 style="text-align: center;">Personal Projects</h3><hr><br>
        <p class="desc">These games are things I just made for fun, or to experiment with an idea. Still mostly unfinished, or just short, but they were fun to make.</p>
        <button class="info" onclick="window.open('http:\/\/arithmeclick.theisaaccompany.ca', '_blank').focus();"><h2><b>Arithmeclick</b></h2><br><br><p>An idle game based off of <b>Cookie Clicker</b>, but you solve simple math problems instead of clicking.</p></button>
    </div>
    <br>

  </div>

  </div>
  </div>
</div>
</div>
</body>
<script src="ScrollTrigger.min.js"></script>
<script src="gsap.min.js"></script>
<script src="script.js"></script>
<script>
  const audioElements = document.querySelectorAll('audio');
  const progressBars = document.querySelectorAll('input[type="range"]');

  const playPauseButton = document.querySelectorAll('.play-button');

  playPauseButton.forEach((button, index)=>{
    button.addEventListener('click', (e) => {
    const audio = audioElements[index];
      if (audio.paused) {
          audio.play();
          button.textContent = 'Pause';
      } else {
          audio.pause();
          button.textContent = 'Play';
      }
    });
  });
  audioElements.forEach((audio, index) => {
      audio.addEventListener('timeupdate', () => {
          const currentTime = audio.currentTime;
          const duration = audio.duration;
          const progressPercentage = (currentTime / duration) * 100;
          progressBars[index].value = progressPercentage;
      });

      progressBars[index].addEventListener('input', (e) => {
          const seekTime = (e.target.value / 100) * audio.duration;
          audio.currentTime = seekTime;
      });
  });
</script>


<script>
window.addEventListener('scroll', function(e) {
  var el = e.target;
  while (el && el !== document && !isScrollable(el)) {
  	el = el.parent;
  }
  console.log('Scrolled element: '+ (el.className || 'document'));
  //shake()
}, true);

function isScrollable(el) {
  return el.scrollWidth > el.clientWidth || el.scrollHeight > el.clientHeight;
}

</script>
<script>
gsap.registerPlugin(ScrollTrigger);
// REVEAL //
gsap.utils.toArray(".revealUp").forEach(function (elem) {
  ScrollTrigger.create({
    trigger: elem,
    start: "top 80%",
    end: "bottom 20%",
    markers: true,
    onEnter: function () {
      gsap.fromTo(
        elem,
        { y: 100, autoAlpha: 0 },
        {
          duration: 1.25,
          y: 0,
          autoAlpha: 1,
          ease: "back",
          overwrite: "auto"
        }
      );
    },
    onLeave: function () {
      gsap.fromTo(elem, { autoAlpha: 1 }, { autoAlpha: 0, overwrite: "auto" });
    },
    onEnterBack: function () {
      gsap.fromTo(
        elem,
        { y: -100, autoAlpha: 0 },
        {
          duration: 1.25,
          y: 0,
          autoAlpha: 1,
          ease: "back",
          overwrite: "auto"
        }
      );
    },
    onLeaveBack: function () {
      gsap.fromTo(elem, { autoAlpha: 1 }, { autoAlpha: 0, overwrite: "auto" });
    }
  });
});

</script>

<script>
  var running = false;
  const canvas = document.getElementById('canvasRain');
  const ctx = canvas.getContext('2d');
  const raindropImages = []; // Array to store raindrop image objects

  // Load your raindrop image (replace with your actual image URL)
  const raindropImage = new Image();
  raindropImage.src = './img/me.jpg';

  function createRaindrop() {
      const x = Math.random() * canvas.width;
      const y = -Math.random() * canvas.height;
      const speed = 10 + Math.random() * 3;
      raindropImages.push({ x, y, speed });
  }

  function drawRaindrops() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (const drop of raindropImages) {
          drop.y += drop.speed;
          ctx.drawImage(raindropImage, drop.x, drop.y, 60, 60); // Adjust raindrop size
          if (drop.y > canvas.height) {
              drop.y = -10;
              drop.x = Math.random() * canvas.width;
          }
      }

      requestAnimationFrame(drawRaindrops);
  }

  // setInterval(createRaindrop, 100); // Add new raindrops every 100ms
  // drawRaindrops();

  function toggleRain(){
    if(running==false){
      alert("BWA HAHAHA. I hope you like this!!")
      setInterval(createRaindrop, 100); // Add new raindrops every 100ms
      drawRaindrops();
      running=true;
    }
    else{
      alert("Sorry, YOU CANNOT GO BACK!!")
    }
  }
</script>
</html>