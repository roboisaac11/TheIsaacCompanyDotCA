<html>
<head>
  <title>Isaac Stamp of Approval</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <main class="container">
    <h1 class="page-title">Isaac Stamp of Approval</h1>
    <div class="nav-buttons">
      <a href="verify.html" class="btn">Verify Stamp</a>
      <a href="request.html" class="btn">Request Stamp</a>
    </div>

    <input type="text" id="searchBox" placeholder="Search approved items..." class="search" />

    <h2 style="margin: 0px;">Approved Items</h2>
    <p style="margin-top: 0px;">These are all items and products that have received the <b>Isaac Stamp of Approval</b></p>

    <div id="itemList" class="grid">
      <!-- Populated by JS -->
    </div>
  </main>
  <script src="data.js"></script>
  <script>
    const listEl = document.getElementById('itemList');
    const searchBox = document.getElementById('searchBox');

    function renderItems(items) {
      listEl.innerHTML = items.map(item => `
        <a class="card" href="view.html?id=${item.uuid}">
          <h4>${item.name}</h2>
        </a>
      `).join('');
    }

    function filterList() {
      const term = searchBox.value.toLowerCase().split(" ");
      const filtered = stampData.filter(item =>
        item.name.toLowerCase().split(" ").some(i => term.includes(i))
      );
      renderItems(term.join("") === "" ? stampData : filtered);
    }

    searchBox.addEventListener('input', filterList);
    renderItems(stampData);
  </script>
</body>
</html>